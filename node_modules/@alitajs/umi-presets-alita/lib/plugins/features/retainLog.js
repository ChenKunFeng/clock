"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _default = api => {
  var _api$userConfig, _api$userConfig2, _api$userConfig2$acon;

  const NODE_ENV = process.env.NODE_ENV;
  api.describe({
    key: 'retainLog',
    config: {
      schema(joi) {
        return joi.boolean();
      },

      default: false
    }
  });
  const vConsole = ((_api$userConfig = api.userConfig) === null || _api$userConfig === void 0 ? void 0 : _api$userConfig.aconsole) && ((_api$userConfig2 = api.userConfig) === null || _api$userConfig2 === void 0 ? void 0 : (_api$userConfig2$acon = _api$userConfig2.aconsole) === null || _api$userConfig2$acon === void 0 ? void 0 : _api$userConfig2$acon.console);

  if (NODE_ENV === 'production' && !api.userConfig.retainLog && !vConsole) {
    api.addHTMLScripts(() => [{
      content: `window.console.log = ()=>{};
        window.console.info = ()=>{};
        window.console.warn = ()=>{};
        window.console.error = ()=>{};`
    }]);
  }
};

exports.default = _default;